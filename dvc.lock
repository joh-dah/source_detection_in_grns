schema: '2.0'
stages:
  generate-training-data:
    cmd: python -W ignore -m src.data_creation_racipe --network tiny
    deps:
    - path: src/data_creation_racipe.py
      hash: md5
      md5: 40646bfe79b2d0550ba8714ef21835d9
      size: 13528
    params:
      params.yaml:
        network: tiny
    outs:
    - path: data/training/raw
      hash: md5
      md5: d9fba657ebb026af5acb627d7f00f3f0.dir
      size: 2712424
      nfiles: 984
  generate-validation-data:
    cmd: python -W ignore -m src.data_creation_racipe --validation --network tiny
    deps:
    - path: src/data_creation_racipe.py
      hash: md5
      md5: 40646bfe79b2d0550ba8714ef21835d9
      size: 13528
    params:
      params.yaml:
        data_creation:
          n_sources: 1
          root_seed_training: 11650217406899810833644412201113384193
          root_seed_validation: 11650217406899810833644412201113384194
          small_input: true
          training_size: 10000
          validation_size: 1000
          normalize_data: true
    outs:
    - path: data/validation/raw
      hash: md5
      md5: e03b7a9c83b32fda637966f32c1948ed.dir
      size: 2712424
      nfiles: 984
  process-validation-data:
    cmd: python -W ignore -m src.data_processing --validation
    deps:
    - path: data/validation/raw
      hash: md5
      md5: 5cb4acb93e2d49d89f881e694bdc1ed8.dir
      size: 263696
      nfiles: 96
    - path: src/data_processing.py
      hash: md5
      md5: 36018bf5ceef594b9df0662ea3f0a69e
      size: 7629
    params:
      params.yaml:
        data_creation:
          n_sources: 1
          root_seed_training: 11650217406899810833644412201113384193
          root_seed_validation: 11650217406899810833644412201113384194
          small_input: true
          training_size: 1000
          validation_size: 100
          normalize_data: true
        model: GCNSI
    outs:
    - path: data/validation/processed
      hash: md5
      md5: 83a3c2d2b53b910033153d5d5c95d9c1.dir
      size: 257814
      nfiles: 98
  process-training-data:
    cmd: python -W ignore -m src.data_processing
    deps:
    - path: data/training/raw
      hash: md5
      md5: d9fba657ebb026af5acb627d7f00f3f0.dir
      size: 2712424
      nfiles: 984
    - path: src/data_processing.py
      hash: md5
      md5: 36018bf5ceef594b9df0662ea3f0a69e
      size: 7629
    params:
      params.yaml:
        data_creation:
          n_sources: 1
          root_seed_training: 11650217406899810833644412201113384193
          root_seed_validation: 11650217406899810833644412201113384194
          small_input: true
          training_size: 1000
          validation_size: 100
          normalize_data: true
        model: GCNSI
    outs:
    - path: data/training/processed
      hash: md5
      md5: 99d88608edca4d8016e452dd5e1cc871.dir
      size: 2691526
      nfiles: 986
  training:
    cmd: python -W ignore -m src.training
    deps:
    - path: data/training/processed
      hash: md5
      md5: 0e5f87eefe4f1977e15e1de7c09757a7.dir
      size: 108462
      nfiles: 42
    - path: src/training.py
      hash: md5
      md5: da1ad9410111af38f0a30532afef97f9
      size: 6017
    params:
      params.yaml:
        model: GCNSI
        model_name: GCNR_test_04_21
        training:
          alpha: 0.5
          batch_size: 64
          class_weighting: false
          epochs: 200
          graph_weighting: false
          hidden_size: 128
          layers: 2
          dropout: 0.3
          learning_rate: 0.001
          subsample: true
          useLogLoss: false
          weight_decay: 0.0005
    outs:
    - path: models/latest.pth
      hash: md5
      md5: 045d04c549433cd60b2bb2a03e2bf295
      size: 73845
  validation:
    cmd: python -W ignore -m src.validation --network tiny
    deps:
    - path: data/validation/processed
      hash: md5
      md5: c37768ce09df1eb332078b2a1df479a2.dir
      size: 33786
      nfiles: 14
    - path: models/latest.pth
      hash: md5
      md5: 045d04c549433cd60b2bb2a03e2bf295
      size: 73845
    - path: src/validation.py
      hash: md5
      md5: aec4279f6fbc3b1a3f31e67212c07535
      size: 19092
    - path: src/visualization.py
      hash: md5
      md5: 568ecc9174bf1ed35a3dad50a5c898e3
      size: 10938
    params:
      params.yaml:
        model: GCNSI
        model_name: GCNR_test_04_21
  visualization:
    cmd: python -W ignore -m src.visualization --network tiny
    deps:
    - path: data/validation/processed
      hash: md5
      md5: c37768ce09df1eb332078b2a1df479a2.dir
      size: 33786
      nfiles: 14
    - path: models/latest.pth
      hash: md5
      md5: 045d04c549433cd60b2bb2a03e2bf295
      size: 73845
    - path: src/visualization.py
      hash: md5
      md5: 568ecc9174bf1ed35a3dad50a5c898e3
      size: 10938
    params:
      params.yaml:
        model: GCNSI
        model_name: GCNR_test_04_21
        visualization:
          seed: 123
