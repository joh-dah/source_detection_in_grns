schema: '2.0'
stages:
  generate-training-data:
    cmd: python -W ignore -m src.data_creation --network tiny
    deps:
    - path: src/data_creation.py
      hash: md5
      md5: 74940aa9249c69267d3569ed3653c035
      size: 13517
    params:
      params.yaml:
        network: tiny
    outs:
    - path: data/training/raw
      hash: md5
      md5: 8909ada193c58238c7dea9640c2e7b5f.dir
      size: 131648
      nfiles: 48
  generate-validation-data:
    cmd: python -W ignore -m src.data_creation --validation --network tiny
    deps:
    - path: src/data_creation.py
      hash: md5
      md5: 74940aa9249c69267d3569ed3653c035
      size: 13517
    params:
      params.yaml:
        data_creation:
          n_sources: 1
          training_size: 50
          validation_size: 10
          normalize_data: true
    outs:
    - path: data/validation/raw
      hash: md5
      md5: 231a6a3f99ab5199fb694a79119824e5.dir
      size: 32892
      nfiles: 12
  process-validation-data:
    cmd: python -W ignore -m src.data_processing --validation
    deps:
    - path: data/validation/raw
      hash: md5
      md5: 231a6a3f99ab5199fb694a79119824e5.dir
      size: 32892
      nfiles: 12
    - path: src/data_processing.py
      hash: md5
      md5: c4d2ae2aed0436e518205971a3c669c5
      size: 5611
    params:
      params.yaml:
        data_creation:
          n_sources: 1
          training_size: 50
          validation_size: 10
          normalize_data: true
        model: GAT
    outs:
    - path: data/validation/processed
      hash: md5
      md5: a9962a201c4a7e03f8a1c4040f5a5a6d.dir
      size: 30832
      nfiles: 14
  process-training-data:
    cmd: python -W ignore -m src.data_processing
    deps:
    - path: data/training/raw
      hash: md5
      md5: 8909ada193c58238c7dea9640c2e7b5f.dir
      size: 131648
      nfiles: 48
    - path: src/data_processing.py
      hash: md5
      md5: c4d2ae2aed0436e518205971a3c669c5
      size: 5611
    params:
      params.yaml:
        data_creation:
          n_sources: 1
          training_size: 50
          validation_size: 10
          normalize_data: true
        model: GAT
    outs:
    - path: data/training/processed
      hash: md5
      md5: 442a24df0768e805f286c7044cab362c.dir
      size: 117952
      nfiles: 50
  training:
    cmd: python -W ignore -m src.training
    deps:
    - path: data/training/processed
      hash: md5
      md5: 442a24df0768e805f286c7044cab362c.dir
      size: 117952
      nfiles: 50
    - path: src/training.py
      hash: md5
      md5: 0d7f2a40fb52b1a099c1fc091c7815d0
      size: 6680
    params:
      params.yaml:
        model: GAT
        model_name: GAT_test
        training:
          alpha: 0.5
          batch_size: 64
          class_weighting: false
          epochs: 20
          graph_weighting: false
          hidden_size: 128
          layers: 2
          dropout: 0.3
          learning_rate: 0.001
          subsample: true
          useLogLoss: false
          weight_decay: 0.0005
    outs:
    - path: models/latest.pth
      hash: md5
      md5: e468526a0bdc7aad82223c01c2480e92
      size: 345989
  validation:
    cmd: python -W ignore -m src.validation --network tiny
    deps:
    - path: data/validation/processed
      hash: md5
      md5: a9962a201c4a7e03f8a1c4040f5a5a6d.dir
      size: 30832
      nfiles: 14
    - path: models/latest.pth
      hash: md5
      md5: e468526a0bdc7aad82223c01c2480e92
      size: 345989
    - path: src/validation.py
      hash: md5
      md5: 31b2bb757f0154265294b2a5ff50a3ee
      size: 8781
    - path: src/visualization.py
      hash: md5
      md5: faea9a1ecacafbc5128f72cd62f8c51e
      size: 11170
    params:
      params.yaml:
        model: GAT
        model_name: GAT_test
  visualization:
    cmd: python -W ignore -m src.visualization --network tiny
    deps:
    - path: data/validation/processed
      hash: md5
      md5: a9962a201c4a7e03f8a1c4040f5a5a6d.dir
      size: 30832
      nfiles: 14
    - path: models/latest.pth
      hash: md5
      md5: e468526a0bdc7aad82223c01c2480e92
      size: 345989
    - path: src/visualization.py
      hash: md5
      md5: faea9a1ecacafbc5128f72cd62f8c51e
      size: 11170
    params:
      params.yaml:
        model: GAT
        model_name: GAT_test
        visualization:
          seed: 123
